---
- name: Install from official repository
  include_tasks: install.yml

- name: Apply default configurations
  include_tasks: configuration.yml
- name: Install and verify plugins from configs
  include_tasks: plugins.yml

- name: Ensure Logstash is started and enabled on boot.
  service:
    name: logstash
    state: started
    enabled: "{{ logstash_enabled_on_boot }}"
